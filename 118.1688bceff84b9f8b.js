"use strict";(self.webpackChunkaka_safe=self.webpackChunkaka_safe||[]).push([[118],{6157:(v,u,i)=>{i.r(u),i.d(u,{SearchModule:()=>E});var o=i(6895),m=i(4719),r=i(3083),f=i(4466),t=i(7171),c=i(5390),_=i(4681);const h=[{video_source_path:"assets/data/sample.mp4",thumbnail_img:"assets/data/sample.jpg",caption:"Rabbit and butterfly",frame_mapping:[{frame_path:"assets/data/sample.jpg",timestamp:1.5},{frame_path:"assets/data/sample.jpg",timestamp:2.5},{frame_path:"assets/data/sample.jpg",timestamp:3.5},{frame_path:"assets/data/sample.jpg",timestamp:4.5},{frame_path:"assets/data/sample.jpg",timestamp:5.5},{frame_path:"assets/data/sample.jpg",timestamp:6.5}]},{video_source_path:"assets/data/sample.mp4",thumbnail_img:"assets/data/sample.jpg",caption:"Rabbit and butterfly",frame_mapping:[{frame_path:"assets/data/sample.jpg",timestamp:1.5},{frame_path:"assets/data/sample.jpg",timestamp:2.5},{frame_path:"assets/data/sample.jpg",timestamp:3.5},{frame_path:"assets/data/sample.jpg",timestamp:4.5},{frame_path:"assets/data/sample.jpg",timestamp:5.5},{frame_path:"assets/data/sample.jpg",timestamp:6.5}]},{video_source_path:"assets/data/sample.mp4",thumbnail_img:"assets/data/sample.jpg",caption:"Rabbit and butterfly",frame_mapping:[{frame_path:"assets/data/sample.jpg",timestamp:1.5},{frame_path:"assets/data/sample.jpg",timestamp:2.5},{frame_path:"assets/data/sample.jpg",timestamp:3.5},{frame_path:"assets/data/sample.jpg",timestamp:4.5},{frame_path:"assets/data/sample.jpg",timestamp:5.5},{frame_path:"assets/data/sample.jpg",timestamp:6.5}]},{video_source_path:"assets/data/sample.mp4",thumbnail_img:"assets/data/sample.jpg",caption:"Rabbit and butterfly",frame_mapping:[{frame_path:"assets/data/sample.jpg",timestamp:1.5},{frame_path:"assets/data/sample.jpg",timestamp:2.5},{frame_path:"assets/data/sample.jpg",timestamp:3.5},{frame_path:"assets/data/sample.jpg",timestamp:4.5},{frame_path:"assets/data/sample.jpg",timestamp:5.5},{frame_path:"assets/data/sample.jpg",timestamp:6.5}]},{video_source_path:"assets/data/sample.mp4",thumbnail_img:"assets/data/sample.jpg",caption:"Rabbit and butterfly",frame_mapping:[{frame_path:"assets/data/sample.jpg",timestamp:1.5},{frame_path:"assets/data/sample.jpg",timestamp:2.5},{frame_path:"assets/data/sample.jpg",timestamp:3.5},{frame_path:"assets/data/sample.jpg",timestamp:4.5},{frame_path:"assets/data/sample.jpg",timestamp:5.5},{frame_path:"assets/data/sample.jpg",timestamp:6.5}]},{video_source_path:"assets/data/sample.mp4",thumbnail_img:"assets/data/sample.jpg",caption:"Rabbit and butterfly",frame_mapping:[{frame_path:"assets/data/sample.jpg",timestamp:1.5},{frame_path:"assets/data/sample.jpg",timestamp:2.5},{frame_path:"assets/data/sample.jpg",timestamp:3.5},{frame_path:"assets/data/sample.jpg",timestamp:4.5},{frame_path:"assets/data/sample.jpg",timestamp:5.5},{frame_path:"assets/data/sample.jpg",timestamp:6.5}]}];var e=i(4650),M=i(3095),O=i(1581),P=i(5751),x=i(5465);function T(a,p){if(1&a){const n=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div",13),e.NdJ("click",function(){e.CHM(n);const d=e.oxw();return e.KtG(d.searchText="")}),e._uU(1,"\n            "),e.O4$(),e.TgZ(2,"svg",6),e._uU(3,"\n                "),e._UZ(4,"path",14),e._uU(5,"\n            "),e.qZA(),e._uU(6,"\n        "),e.qZA()}}function y(a,p){if(1&a){const n=e.EpF();e.TgZ(0,"div",24),e._uU(1,"\n                        "),e.TgZ(2,"img",25),e.NdJ("click",function(){const g=e.CHM(n).$implicit;e.oxw();const l=e.MAs(5),C=e.oxw();return e.KtG(C.onClickFrame(g.timestamp,l))}),e.qZA(),e._uU(3,"    \n                    "),e.qZA()}}function j(a,p){if(1&a&&(e.TgZ(0,"div",15),e._uU(1,"\n            "),e.TgZ(2,"div",16),e._uU(3,"\n                "),e._UZ(4,"video",17,18),e._uU(6,"\n                "),e.TgZ(7,"p",19),e._uU(8),e.qZA(),e._uU(9,"\n            "),e.qZA(),e._uU(10,"\n            "),e.TgZ(11,"div",20),e._uU(12,"\n                "),e.TgZ(13,"p",21),e._uU(14," Danh s\xe1ch h\xecnh \u1ea3nh c\xf3 trong video"),e.qZA(),e._uU(15,"\n                "),e.TgZ(16,"div",22),e._uU(17,"\n                    "),e.YNc(18,y,4,0,"div",23),e._uU(19,"                 \n                "),e.qZA(),e._uU(20,"\n            "),e.qZA(),e._uU(21,"\n        "),e.qZA()),2&a){const n=p.$implicit;e.xp6(4),e.Q6J("src",n.video_source_path,e.LSH),e.xp6(4),e.hij(" ",n.caption," "),e.xp6(10),e.Q6J("ngForOf",n.frame_mapping)}}const S=[{path:"",component:(()=>{class a{constructor(n,s){this.router=n,this.searchService=s,this.searchResult=[],this.searchResultOrigin=h,this.isLoading=!1,this.pageSize=5}ngOnInit(){this.searchText=this.searchService.getSearchText(),this.searchImage=this.searchService.getSearchImage(),console.log("ngOnInit"),console.log(this.searchText),console.log(this.searchImage);let n=Math.min(this.pageSize,this.searchResultOrigin.length);this.searchResult=this.searchResultOrigin.slice(0,n)}ngOnDestroy(){}onEnter(n){console.log(this.searchText),this.router.navigateByUrl("/search")}ngOnChanges(n){}onSearchByImage(n){this.searchImage=n.target.files[0],this.router.navigateByUrl("/search")}onClickFrame(n,s){s.currentTime=n,s.pause()}onPageChange(n){let s=n.pageIndex+1,d=n.pageSize,l=Math.max(d*(s-1),0),C=Math.min(d*s,this.searchResultOrigin.length);console.log(s),console.log(l),console.log(C),this.searchResult=this.searchResultOrigin.slice(l,C)}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(c.F0),e.Y36(M.o))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-search"]],features:[e.TTD],decls:30,vars:8,consts:[[1,"main-container"],[1,"search-input",3,"app-loader"],[1,"input-text","input-search-icon-left","main-search",3,"ngModel","ngModelChange","keydown.enter"],["accept","image/*","type","file","hidden","",3,"change"],["fileInput",""],[1,"camera-icon",3,"click"],["width","24","height","24","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg"],["d","M26 7h-3.462l-1.7-2.55A.99.99 0 0 0 20 4h-8a.99.99 0 0 0-.838.45L9.463 7H6a3.013 3.013 0 0 0-3 3v14a3.01 3.01 0 0 0 3 3h20a3.01 3.01 0 0 0 3-3V10a3.01 3.01 0 0 0-3-3m-5.5 9.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0"],["class","clear-icon",3,"click",4,"ngIf"],[1,"card","result-container"],["class","result-item",4,"ngFor","ngForOf"],[1,"paginator","w-100","d-flex","justify-content-center"],["aria-label","Select page of users","indicator-mat-paginator","",3,"disabled","hidePageSize","length","pageSize","page"],[1,"clear-icon",3,"click"],["d","m17.413 16 8.3-8.288a1.012 1.012 0 0 0-1.425-1.425L16 14.587l-8.287-8.3a1.013 1.013 0 0 0-1.425 1.425l8.3 8.288-8.3 8.288a1.01 1.01 0 0 0 0 1.424 1.025 1.025 0 0 0 1.425 0l8.287-8.3 8.288 8.3a1.025 1.025 0 0 0 1.424 0 1.01 1.01 0 0 0 0-1.424z"],[1,"result-item"],[1,"video-player"],["width","400","controls","",3,"src"],["video",""],[1,"video-caption"],[1,"frame-container"],[1,"frame-title"],[1,"frame-list","app-scrollbar"],["class","frame-item",4,"ngFor","ngForOf"],[1,"frame-item"],["src","assets/data/sample.jpg","alt","",3,"click"]],template:function(n,s){if(1&n){const d=e.EpF();e.TgZ(0,"div",0),e._uU(1,"\n    "),e.TgZ(2,"div",1),e._uU(3,"\n        "),e.TgZ(4,"input",2),e.NdJ("ngModelChange",function(l){return s.searchText=l})("keydown.enter",function(l){return s.onEnter(l)}),e.qZA(),e._uU(5,"\n        "),e.TgZ(6,"input",3,4),e.NdJ("change",function(l){return s.onSearchByImage(l)}),e.qZA(),e._uU(8,"\n        "),e.TgZ(9,"div",5),e.NdJ("click",function(){e.CHM(d);const l=e.MAs(7);return e.KtG(l.click())}),e._uU(10,"\n            "),e.O4$(),e.TgZ(11,"svg",6),e._uU(12,"\n                "),e._UZ(13,"path",7),e._uU(14,"\n            "),e.qZA(),e._uU(15,"\n\n        "),e.qZA(),e._uU(16,"\n        "),e.YNc(17,T,7,0,"div",8),e._uU(18,"\n    "),e.qZA(),e._uU(19,"\n    "),e.kcU(),e.TgZ(20,"div",9),e._uU(21,"\n\n        "),e.YNc(22,j,22,3,"div",10),e._uU(23,"\n    "),e.qZA(),e._uU(24,"\n    "),e.TgZ(25,"div",11),e._uU(26,"\n        "),e.TgZ(27,"mat-paginator",12),e.NdJ("page",function(l){return s.onPageChange(l)}),e.qZA(),e._uU(28,"\n    "),e.qZA(),e._uU(29,"\n\n"),e.qZA()}2&n&&(e.xp6(2),e.Q6J("app-loader",s.isLoading),e.xp6(2),e.Q6J("ngModel",s.searchText),e.xp6(13),e.Q6J("ngIf",s.searchText),e.xp6(5),e.Q6J("ngForOf",s.searchResult),e.xp6(5),e.Q6J("disabled",!s.searchResultOrigin||0==s.searchResultOrigin.length)("hidePageSize",!0)("length",s.searchResultOrigin.length)("pageSize",s.pageSize))},dependencies:[o.sg,o.O5,m.Fj,m.JJ,m.On,O.NW,P.X,x.$],styles:[".main-container[_ngcontent-%COMP%]{display:flex;justify-content:left;flex-direction:column;height:calc(100% - 100px);width:100%}.main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%]{position:relative;height:46px;width:584px}.main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .main-search[_ngcontent-%COMP%]{height:46px;width:584px;border-radius:24px;padding-left:35px;background-size:20px;padding-right:45px;border-width:1.5px}.main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .camera-icon[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;top:calc(50% - 12px);right:10px;fill:#767d86}.main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .camera-icon[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .camera-icon[_ngcontent-%COMP%]:hover, .main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{fill:#0083fc}.main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .clear-icon[_ngcontent-%COMP%]{right:35px}.main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .clear-icon[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%] > .search-input[_ngcontent-%COMP%] > .clear-icon[_ngcontent-%COMP%]:hover{fill:#d31933}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%]{width:100%;margin-top:16px;display:flex;flex-direction:column}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .video-player[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .video-player[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{width:auto;max-width:100vw;height:400px}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .video-player[_ngcontent-%COMP%] > .video-caption[_ngcontent-%COMP%]{font-weight:600}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .frame-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .frame-container[_ngcontent-%COMP%] > .frame-title[_ngcontent-%COMP%]{margin-bottom:-16px;height:50px;font-weight:600}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .frame-container[_ngcontent-%COMP%] > .frame-list[_ngcontent-%COMP%]{padding:24px;width:100%;height:350px;overflow:scroll;overflow-x:hidden}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .frame-container[_ngcontent-%COMP%] > .frame-list[_ngcontent-%COMP%] > .frame-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:8px;float:left}.main-container[_ngcontent-%COMP%] > .result-container[_ngcontent-%COMP%] > .result-item[_ngcontent-%COMP%] > .frame-container[_ngcontent-%COMP%] > .frame-list[_ngcontent-%COMP%] > .frame-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;max-width:100vw;height:180px;cursor:pointer;border-radius:16px}.main-container[_ngcontent-%COMP%] > .paginator[_ngcontent-%COMP%]{margin-top:-16px}"]}),a})(),data:{title:(0,_.Kl)("T\xecm ki\u1ebfm")}}];let U=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.Bz.forChild(S),c.Bz]}),a})();var b=i(8433),Z=i(2368),w=i(8265);let E=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[U,o.ez,m.u5,t.aw,b.r,r.I,Z._,O.TU,w.L,f.m]}),a})()},2368:(v,u,i)=>{i.d(u,{_:()=>m});var o=i(4650);let m=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})()},1910:(v,u,i)=>{i.d(u,{y:()=>m});var o=i(4650);let m=(()=>{class r{constructor(t,c){this.el=t,this.renderer=c,this.ngModelChange=new o.vpe,this.hideBg=!0,this.isUpdate=!1}ngOnInit(){this.clearButton=this.renderer.createElement("div");const t=this.clearButton;this.oldOffsetLeft=this.el.nativeElement.offsetLeft,this.oldOffsetTop=this.el.nativeElement.offsetTop;const c=this.el.nativeElement.offsetLeft+this.el.nativeElement.offsetWidth-28,_=this.el.nativeElement.offsetTop+this.el.nativeElement.offsetHeight/2-10;t.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" stroke="none" d="M12 21a9 9 0 100-18 9 9 0 000 18z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.25" d="M15 9l-6 6m6 0L9 9"/></svg>',t.style.left=c+"px",t.style.top=_+"px",this.renderer.addClass(t,"input-btn-clear-text"),this.renderer.listen(t,"click",e=>{e.stopPropagation(),this.ngModelChange.emit("")}),this.renderer.appendChild(this.el.nativeElement.parentNode,t),new MutationObserver(e=>{this.updateClearTextPos(t)}).observe(this.el.nativeElement,{attributes:!0}),this.displayClearTextButton(t),this.resizeObs=new window.ResizeObserver(e=>{this.updateClearTextPos(t)}),this.resizeObs.observe(this.el.nativeElement.parentNode)}ngOnChanges(t){t.ngModel&&this.clearButton&&this.displayClearTextButton(this.clearButton)}onResize(t){this.isUpdate||(this.isUpdate=!0,setTimeout(()=>{this.updateClearTextPos(this.clearButton),this.isUpdate=!1},50))}displayClearTextButton(t){this.ngModel?(this.renderer.setStyle(t,"display","inline-flex"),this.hideBg&&this.renderer.addClass(this.el.nativeElement,"bg-img-none")):(this.renderer.setStyle(t,"display","none"),this.hideBg&&this.renderer.removeClass(this.el.nativeElement,"bg-img-none"))}updateClearTextPos(t){let c=!1;if(!this.oldOffsetLeft!=this.el.nativeElement.offsetLeft&&(this.oldOffsetLeft=this.el.nativeElement.offsetLeft,c=!0),!this.oldOffsetTop!=this.el.nativeElement.offsetLeft&&(this.oldOffsetTop=this.el.nativeElement.offsetTop,c=!0),c){const h=this.el.nativeElement.offsetTop+this.el.nativeElement.offsetHeight/2-10;t.style.left=this.el.nativeElement.offsetLeft+this.el.nativeElement.offsetWidth-28+"px",t.style.top=h+"px",this.renderer.setStyle(t,"left",t.style.left),this.renderer.setStyle(t,"top",t.style.top)}}ngOnDestroy(){this.textChangeSubs&&this.textChangeSubs.unsubscribe(),this.resizeObs&&this.resizeObs.unobserve(this.el.nativeElement.parentNode),this.resizeObs&&this.resizeObs.unobserve(this.el.nativeElement.parentNode)}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(o.SBq),o.Y36(o.Qsj))},r.\u0275dir=o.lG2({type:r,selectors:[["","clearInput",""]],hostBindings:function(t,c){1&t&&o.NdJ("resize",function(h){return c.onResize(h)},!1,o.Jf7)},inputs:{ngModel:"ngModel",hideBg:"hideBg"},outputs:{ngModelChange:"ngModelChange"},features:[o.TTD]}),r})()}}]);